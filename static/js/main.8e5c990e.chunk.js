(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{103:function(e,a,t){e.exports=t(116)},108:function(e,a,t){},116:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(34),c=t.n(l),o=t(22),u=t(9),m=(t(108),t(109),function(){return r.a.createElement("h1",null,"Home Page")}),s=t(52),i=t(48),f=t(131),E=function(e){var a=e.searchValue,t=e.history;return r.a.createElement(f.a,{value:a&&a.length?a:"",onChange:function(e){return t.push("?query=".concat(e.target.value))},focus:!0,placeholder:"Search..."})};E.defaultProps={searchValue:"",history:{}};var p=t(93),b=t.n(p),h=t(33),d=t.n(h),C=t(132),j=t(6),k=function(e){var a=e.name;return r.a.createElement(r.a.Fragment,null,a)};k.propTypes={name:t.n(j).a.string.isRequired};var g=function(e){var a=e.people,t=e.handleSort,l=Object(n.useState)(""),c=Object(i.a)(l,2),u=c[0],m=c[1];return r.a.createElement(C.a,{striped:!0},r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Row,null,r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return t("name")}},"Name"),r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return t("sex")}},"Sex"),r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return t("born")}},"Born"),r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return t("died")}},"Died"),r.a.createElement(C.a.HeaderCell,null,"Mother"),r.a.createElement(C.a.HeaderCell,null,"Father"))),r.a.createElement(C.a.Body,null,a.map((function(e){return r.a.createElement(C.a.Row,{className:b()("row",u===e.slug&&"m"===e.sex?"active-row--men":u===e.slug&&"f"===e.sex?"active-row--women":""),key:e.slug},r.a.createElement(C.a.Cell,null,r.a.createElement(o.b,{key:d()(6),to:"/people/:person=".concat(e.slug,"?"),onClick:function(){return m(e.slug)}},r.a.createElement(k,{key:d()("".concat(5)),name:e.name}))),r.a.createElement(C.a.Cell,{key:d()("".concat(1))},e.sex),r.a.createElement(C.a.Cell,{key:d()("".concat(2))},e.born),r.a.createElement(C.a.Cell,{key:d()("".concat(3))},e.died),r.a.createElement(C.a.Cell,{key:d()("".concat(4))},e.motherName),r.a.createElement(C.a.Cell,{key:d()("".concat(4))},e.fatherName))}))))},O=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),m=o[0],f=o[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),h=b[0],d=b[1],C=Object(u.g)(),j=Object(u.h)(),k=new URLSearchParams(j.search).get("query");Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){if(!e.ok)throw new Error("can\n't upload your comment");return e.json()})).then(l)}),[]),Object(n.useEffect)((function(){f(t)}),[]),Object(n.useEffect)((function(){if(k){var e=k.toLowerCase();f(t.filter((function(a){return a.name.toLowerCase().includes(e)||a.motherName&&a.motherName.toLowerCase().includes(e)||a.fatherName&&a.fatherName.toLowerCase().includes(e)})))}else f(t)}),[t,k]),Object(n.useEffect)((function(){var e=[];switch(h){case"name":e=Object(s.a)(t).sort((function(e,a){return e.name.localeCompare(a.name)}));break;case"sex":e=Object(s.a)(t).sort((function(e,a){return e.sex.localeCompare(a.sex)}));break;case"born":e=Object(s.a)(t).sort((function(e,a){return+e.born-+a.born}));break;case"died":e=Object(s.a)(t).sort((function(e,a){return+e.died-+a.died}));break;default:e.push(Object(s.a)(t))}f(e),e=[]}),[h]);var O=Object(n.useCallback)((function(e){d(e)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{searchValue:k,history:C}),r.a.createElement("h1",null,"People Page"),r.a.createElement(g,{people:m,handleSort:O}))},y=function(){return r.a.createElement("h1",{className:"title"},"Page not found")},v=t(130),w=function(){return r.a.createElement(v.a,null,r.a.createElement(v.a.Item,null,r.a.createElement(o.b,{to:"/",exact:!0,className:"navbar-item"},"Home Page")),r.a.createElement(v.a.Item,null,r.a.createElement(o.b,{to:"/people",className:"navbar-item"},"People Page")))},N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/people"},r.a.createElement(O,null)),r.a.createElement(u.b,{path:"/",exact:!0},r.a.createElement(m,null)),r.a.createElement(u.a,{path:"/home",to:"/"}),r.a.createElement(y,null)))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.8e5c990e.chunk.js.map