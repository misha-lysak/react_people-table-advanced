(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{103:function(e,t,a){e.exports=a(116)},108:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),o=a(14),u=a(9),m=(a(108),a(109),function(){return r.a.createElement("h1",null,"Home Page")}),s=a(52),i=a(48),p=a(131),E=function(e){var t=e.searchValue,a=e.history;return r.a.createElement(p.a,{value:t&&t.length?t:"",onChange:function(e){return a.push("?query=".concat(e.target.value))},focus:!0,placeholder:"Search..."})};E.defaultProps={searchValue:"",history:{}};var b=a(93),f=a.n(b),h=a(33),d=a.n(h),C=a(132),j=a(6),y=function(e){var t=e.name;return r.a.createElement(r.a.Fragment,null,t)};y.propTypes={name:a.n(j).a.string.isRequired};var k=function(e){var t=e.people,a=e.handleSort,c=Object(n.useState)(""),l=Object(i.a)(c,2),m=l[0],s=l[1],p=Object(u.h)().search;return r.a.createElement(C.a,{striped:!0},r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Row,null,r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return a("name")}},r.a.createElement(o.b,{to:"/people/sortBy=name?".concat(p)},"Name")),r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return a("sex")}},r.a.createElement(o.b,{to:"/people/sortBy=sex?".concat(p)},"Sex")),r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return a("born")}},r.a.createElement(o.b,{to:"/people/sortBy=born?".concat(p)},"Born")),r.a.createElement(C.a.HeaderCell,{className:"sort",onClick:function(){return a("died")}},r.a.createElement(o.b,{to:"/people/sortBy=died?".concat(p)},"Died")),r.a.createElement(C.a.HeaderCell,null,"Mother"),r.a.createElement(C.a.HeaderCell,null,"Father"))),r.a.createElement(C.a.Body,null,t.map((function(e){return r.a.createElement(C.a.Row,{className:f()("row",m===e.slug&&"m"===e.sex?"active-row--men":m===e.slug&&"f"===e.sex?"active-row--women":""),key:e.slug},r.a.createElement(C.a.Cell,null,r.a.createElement(o.b,{key:d()(6),to:"/people/:person=".concat(e.slug,"?").concat(p),onClick:function(){return s(e.slug)}},r.a.createElement(y,{key:d()("".concat(5)),name:e.name}))),r.a.createElement(C.a.Cell,{key:d()("".concat(1))},e.sex),r.a.createElement(C.a.Cell,{key:d()("".concat(2))},e.born),r.a.createElement(C.a.Cell,{key:d()("".concat(3))},e.died),r.a.createElement(C.a.Cell,{key:d()("".concat(4))},e.motherName),r.a.createElement(C.a.Cell,{key:d()("".concat(4))},e.fatherName))}))))},O=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),m=o[0],p=o[1],b=Object(n.useState)(""),f=Object(i.a)(b,2),h=f[0],d=f[1],C=Object(u.g)(),j=Object(u.h)(),y=new URLSearchParams(j.search).get("query");Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){if(!e.ok)throw new Error("can\n't upload your comment");return e.json()})).then(c)}),[]),Object(n.useEffect)((function(){p(a)}),[]),Object(n.useEffect)((function(){if(y){var e=y.toLowerCase();p(a.filter((function(t){return t.name.toLowerCase().includes(e)||t.motherName&&t.motherName.toLowerCase().includes(e)||t.fatherName&&t.fatherName.toLowerCase().includes(e)})))}else p(a)}),[a,y]),Object(n.useEffect)((function(){var e=[];switch(h){case"name":e=Object(s.a)(m).sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"sex":e=Object(s.a)(m).sort((function(e,t){return e.sex.localeCompare(t.sex)}));break;case"born":e=Object(s.a)(m).sort((function(e,t){return+e.born-+t.born}));break;case"died":e=Object(s.a)(m).sort((function(e,t){return+e.died-+t.died}));break;default:e.push(Object(s.a)(m))}p(e),e=[]}),[h]);var O=Object(n.useCallback)((function(e){d(e)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{searchValue:y,history:C}),r.a.createElement("h1",null,"People Page"),r.a.createElement(k,{people:m,handleSort:O}))},g=function(){return r.a.createElement("h1",{className:"title"},"Page not found")},v=a(130),w=function(){return r.a.createElement(v.a,null,r.a.createElement(v.a.Item,null,r.a.createElement(o.b,{to:"/",exact:!0,className:"navbar-item"},"Home Page")),r.a.createElement(v.a.Item,null,r.a.createElement(o.b,{to:"/people",className:"navbar-item"},"People Page")))},N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/people"},r.a.createElement(O,null)),r.a.createElement(u.b,{path:"/",exact:!0},r.a.createElement(m,null)),r.a.createElement(u.a,{path:"/home",to:"/"}),r.a.createElement(g,null)))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.aec2edf8.chunk.js.map